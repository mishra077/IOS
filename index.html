<!DOCTYPE html>
<html>
    <head>
       <meta name="viewport" content="width=device-width; minimum-scale=1.0; maximum-scale=1.0; user-scalable=no">
        <script src="https://code.highcharts.com/stock/highstock.js"></script>
        <script src="https://code.highcharts.com/stock/modules/data.js"></script>
        <script src="https://code.highcharts.com/stock/modules/drag-panes.js"></script>
        <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
        <script src="https://code.highcharts.com/stock/indicators/indicators.js"></script>
        <script src="https://code.highcharts.com/stock/indicators/volume-by-price.js"></script>
        <script src="https://code.highcharts.com/modules/accessibility.js"></script>
        
        <script>
            
            function createHisCharts(data, tickerName){


                let openPriceList = data[0];
                let highPriceList = data[1];
                let lowPriceList = data[2];
                let closePriceList = data[3];
                let volumeList = data[4];
                let timeStampList = data[5];

            // split the data set into ohlc and volume-->
                var ohlc = [],
                    volume = [],
                    dataLength = openPriceList.length,
                    // set the allowed units for data grouping
                    groupingUnits = [[
                        'week',                         // unit name
                        [1]                             // allowed multiples
                    ], [
                        'month',
                        [1, 2, 3, 4, 6]
                        ]],

                    i = 0;
                    for (i; i < dataLength; i += 1) {
                        ohlc.push([
                        timeStampList[i], // the date
                        openPriceList[i], // open
                        highPriceList[i], // high
                        lowPriceList[i], // low
                        closePriceList[i] // close
                        ]);

                        volume.push([
                        timeStampList[i], // the date
                        volumeList[i] // the volume
                        ]);
                    }

                Highcharts.stockChart('create-chart', {

                    rangeSelector: {
                        selected: 2
                    },
                    
                    title: {
                        text: tickerName + 'Historical'
                    },

                    subtitle: {
                        text: 'With SMA and Volume by Price technical indicators'
                    },
                    
                    yAxis: [{
                        startOnTick: false,
                        endOnTick: false,
                        labels: {
                            align: 'right',
                            x: -3
                        },
                        title: {
                        text: 'OHLC'
                        },
                        height: '60%',
                        lineWidth: 2,
                        resize: {
                            enabled: true
                        }
                    }, {
                        labels: {
                            align: 'right',
                            x: -3
                        },
                        title: {
                            text: 'Volume'
                        },
                        top: '65%',
                        height: '35%',
                        offset: 0,
                        lineWidth: 2
                    }],

                    tooltip: {
                        split: true
                    },

                    plotOptions: {
                        series: {
                            dataGrouping: {
                                units: groupingUnits
                            }
                        }
                    },

                    series: [{
                        type: 'candlestick',
                        name: tickerName,
                        id: tickerName,
                        zIndex: 2,
                        data: ohlc
                        }, {
                        type: 'column',
                        name: 'Volume',
                        id: 'volume',
                        data: volume,
                        yAxis: 1
                        }, {
                        type: 'vbp',
                        linkedTo: tickerName,
                        params: {
                        volumeSeriesID: 'volume'
                        },
                        dataLabels: {
                            enabled: false
                        },
                        zoneLines: {
                        enabled: false
                        }
                    }, {
                        type: 'sma',
                        linkedTo: 'aapl',
                        zIndex: 1,
                        marker: {
                            enabled: false
                        }
                    }]
                });
            }

// <!--      createHisCharts([[380.95,436.56,439.87,415.6,447.94,453.13,429.6,405.16,363.8,393.47,424.62,416,421.32,440.76,421.39,423.35,423.79,419.87,438.44,430.13,442,443.35,449.78,450.31,454.44,446.24,431.75,422.7,441.92,421.84,411.63,423.76,416.48,409.96,406.8954,394,409.73,430.62,428.3,436.1,439.5,420.09,416.45,415.05,410.85,408.93,460.17,448.35,492,497.99,503.5,540.4,550.06,581.16,602.21,597.59,556.44,590.02,591.01,604.9197,625.505,653.69,574.37,615.01,619,643.28,628.23,628.19,668.9,666.24,648,632.2,642.99,674.51,661,672,699.99,719.46,723.66,758.49,777.63,856,849.4,831,852.76,843.39,852,837.8,858.74,855,834.31,855,891.38,870.35,820,830.0003,814.29,844.68,877.02,855,845,869.67,855.12,843.635,812.44,801.26,818,779.09,780.9,795,762.64,662.13,711.85,726.15,700,690.11,718.28,687.99,655.8,626.06,600.55,608.18,700.3,699.4,670,694.09,703.35,656.87,684.29,646.6,684.59,675.77,667.91,613,641.87,615.64,601.75,646.62,688.37,707.71,690.3,687,677.38,677.77,685.7,712.7,770.7,743.1,728.65,719.6,717.42,704.77,741.5,719.8,741,717.96,696.41,699.51,667.59,703.8,678.94,681.06,680.76,665.8,664.9,599.24,602.49,601.545,583.41,575.5531,568,552.55,575,596.11,581.6,607.31,607.56,620.24,628.5,627.8,620.13,601.8,579.71,591.825,623.01,602.17,603.88,610.23,612.23,616.69,597.535,601.8878,613.37,624.48,618.25,632,674.99,689.58,671.64,684.65,679.77,683.92,678.98,681.7115,664.27,628.37,653.185,662.2,686.32,670.75,658.39,654.68,629.89,651.99,659.61,656.4428,646.36,650.97,663.4,646.995,649.79,671.758,700,719,711,716,711.9,710.17,713.99,712.71,706.34,723.71,705.07,672.66,669.7479,678.21,682.85,685.442,710.68,707.03,708.31,705,714.715,733,734.08,734.5,732.2494,740,761.58,753.41,759.6,740.2143,742.57],[420,461.94,457.79,437.79,451,455.68,437.76,412.15,399.5,408.7323,428.08,428.5,433.93,448.88,439.13,433.64,428.7799,429.9,439,434.5899,448.74,448.89,465.9,456.57,455.9499,447,431.75,432.95,445.23,422.8859,425.76,430.5,418.6,418.06,407.5915,406.9799,427.77,435.4,440,436.57,452.5,420.09,418.695,423,412.5319,412.45,462,496,508.6112,502.5,526,559.99,574,598.78,607.8,597.85,571.54,598.97,599.04,648.7856,651.28,654.32,627.75,624,642.7499,646.9,632.5,658.82,695,668.5,649.88,651.4999,666.09,681.4,669.9,696.6,718.72,744.4899,740.84,774,816.99,884.49,854.43,868,860.47,863,859.9,850,859.5,855.7199,848,900.4,895.9,891.5,848,842.41,842,880.5,878.08,856.5,864.77,877.77,859.8,844.82,829.8799,817.33,821,799.84,794.69,796.7899,768.5,713.6099,745,737.2066,706.7,719,721.11,700.7,668.45,627.8419,620.125,678.09,717.85,702.5,694.88,713.18,707.92,703.73,689.23,657.23,699.62,677.8,668.02,645.5,643.82,616.48,637.66,672,692.4203,708.16,696.55,691.38,689.5499,680.97,704.8,763,780.79,743.69,749.41,725.4,737.25,744.84,753.77,737.36,749.3,724,708.5,702.25,715.47,706,683.4464,685.2955,681.02,690,665.05,627.0999,620.41,606.4599,592.87,589.73,596.25,566.21,588.85,596.68,614.48,613.99,626.17,631.13,635.59,633.8,623.36,604.55,600.61,610,623.09,611.79,616.59,612.56,625.49,616.79,608.5,621.47,628.35,631.39,628.5693,657.204,697.62,693.81,694.6999,687.5099,692.81,687.99,700,684,665.7,654.43,658.91,687.24,693.28,678.6099,666.14,656.6999,647.1999,662.3916,664.8599,662.17,648.8,668.1999,666.5,654.9699,683.69,697.53,726.94,722.65,724.9,720.9499,716.33,719.03,716.59,715.18,722.8,729.9,709.5,674.58,695.77,686.55,692.1299,712.1299,715.22,716.97,715.4,715,731,740.39,741.99,740.97,734,760.2,764.45,762.1,762.61,744.78,754.47],[373.3,430.7,435.31,408.0001,428.8,407.07,417.6001,375.8801,351.3,391.3,415.55,411.6,420.47,434.42,415,419.33,406.05,413.845,425.3,426.4601,438.58,436.6,447.35,442.5,438.85,428.87,419.0501,421.25,424.51,407.3801,410,420.1,406,406.46,379.11,392.3,406.69,417.1,424.0001,424.28,421,396.0301,410.58,409.52,401.66,404.0868,433.01,443.5001,487.57,489.06,501.79,526.2,545.37,578.45,554.51,572.05,541.21,582.43,585.5,603.05,618.5,588,566.34,596.8,610.2001,623.8,605,619.5,628.54,646.07,614.23,622.5701,641,660.8,655,668.3603,691.12,717.1895,719.2,749.1,775.2,838.39,803.6222,827.34,832,838.75,819.1,833,837.28,841.4201,828.62,838.8201,871.6,858.66,801,780.1,795.5601,842.2006,853.0646,833.42,838.97,854.75,841.75,800.02,801.725,785.3306,792.44,762.01,776.27,777.37,710.2,619,694.17,670.58,659.51,685.05,685,651.705,600,539.49,558.79,595.21,655.06,677.18,666.1394,684.04,671,651.01,652,624.6201,668.75,657.51,630.11,609.5,599.89,596.02,591.01,641.11,659.42,684.7,681.37,667.84,671.645,669.43,682.09,710.66,728.03,721.31,724.6,691.8001,710.685,698,718.04,715.46,732.6053,703.3501,693.6,668.5002,666.14,680.5,657.701,667.34,650,660.22,627.6101,595.6,586.765,559.65,570.46,561.2,563.38,546.98,571.07,580,573.65,595.71,601.5,616.21,622.38,620.55,599.14,571.22,577.2,582.88,595.5,597.6301,600.5,601.52,609.18,598.23,593.5,601.34,611.8,608.88,615.5,630.04,667.61,668.7,670.32,675.89,678.14,672.8,673.26,651.4002,638.32,620.46,644.69,662.161,666.2958,652.84,637.88,642.2,621.29,640.501,650.2901,644.6001,637.3001,647.11,627.24,639.4001,648.8,669,698.4,701.01,708.93,711.41,697.63,705.13,701.88,704.21,699.4,714.34,676.4,648.84,669.35,667.59,673.7,680.7505,702.64,704,697.6201,702.1001,712.73,726.44,731.2701,730.54,724.2,739.26,740.7733,751.6301,734.5201,708.85,736.4],[419.62,449.76,441.76,423.43,442.15,449.39,424.23,380.36,387.79,407.34,421.2,419.07,429.01,448.16,415.09,425.68,413.98,425.3,425.92,434,442.3,446.65,461.3,448.88,439.67,430.83,421.94,422.64,425.79,420.63,420.28,424.68,406.02,410.83,388.04,400.51,423.9,420.98,438.09,429.95,421.26,410.36,417.13,411.76,408.5,408.09,441.61,486.64,499.27,489.61,521.85,555.38,574,585.76,567.6,584.76,568.82,593.38,599.04,641.76,649.88,604.48,627.07,609.99,639.83,633.25,622.77,655.9,695,649.86,640.34,645.98,661.77,663.69,665.99,694.78,705.67,729.77,735.11,755.98,816.04,880.02,811.19,849.44,854.41,845,826.16,844.55,850.45,844.99,846.64,880.8,883.09,864.16,835.43,793.53,839.81,872.79,854.69,849.99,852.23,863.42,849.46,804.82,811.66,816.12,796.22,798.15,787.38,781.3,714.5,698.84,742.02,682.22,675.5,718.43,686.44,653.2,621.44,597.95,563,673.58,668.06,699.6,693.73,707.94,676.88,701.81,653.16,654.87,670,662.16,630.27,640.39,618.71,611.29,635.62,667.93,661.75,691.05,691.62,670.97,683.8,677.02,701.98,762.32,732.23,738.85,739.78,714.63,718.99,744.12,719.69,729.4,738.2,704.74,694.4,677,709.44,684.9,673.6,670.94,663.54,672.37,629.04,617.2,589.89,571.69,589.74,576.83,577.87,563.46,586.78,580.88,606.44,604.69,619.13,630.85,625.22,623.9,605.12,572.84,599.05,605.13,603.59,598.78,610.12,609.89,617.69,599.36,604.87,616.6,623.31,620.83,623.71,656.57,679.82,671.87,688.72,680.76,679.7,677.92,678.9,659.58,644.65,652.81,656.95,685.7,668.54,653.38,650.6,644.22,646.22,660.5,655.29,649.26,643.38,657.62,644.78,646.98,677.35,687.2,709.67,709.74,710.92,714.63,699.1,713.76,709.99,707.82,722.25,717.17,686.17,665.71,688.99,673.47,680.26,706.3,708.49,711.2,701.16,711.92,730.91,735.72,734.09,732.39,733.57,752.92,753.87,754.86,736.27,743,744.49],[83020608,97298228,72546760,76779163,86406819,109476800,79580795,95074176,96561061,67208459,49719561,50341404,48145566,50741454,71430025,44722786,49146259,43127709,40421116,28925656,38791133,34463665,48045394,35672354,32775879,36287843,31656289,32370461,39993191,33716980,28239161,22686506,25451409,22655308,42587639,29021118,34351715,32143057,28414523,21706014,34833025,30284224,17357722,19940500,19830351,26838635,61188281,78044024,62475346,32911922,50260304,53648494,48930162,37561078,63003052,40382832,47775653,42552003,29401314,56309709,64265029,71291190,67083153,46474974,52040649,45223559,42095813,56270144,222126194,58045264,51861644,33172972,22865568,32278561,22910811,42846021,49649928,48638189,32245165,44699965,51498948,75055528,59554146,46270720,33312496,31266327,38777596,25366980,25665883,20598133,20066497,41173397,23131603,27333955,26378048,34990754,25391385,24346213,18343510,15812661,18566637,20161719,15157651,36216090,21622753,23768313,19802324,26078898,17957058,18958255,37269716,66606882,36766950,39023855,41089173,27136239,23732158,30207960,65919410,89396459,51786958,67523328,60605672,36253892,33583840,29423479,32195672,40372453,33369022,42893978,39512221,30491870,33795174,39224850,33852827,28636985,39432359,33337288,35298378,41842767,28271839,26309433,23924329,21437087,29135670,44652808,49017434,27848900,27979526,39686226,35609038,31215514,35590255,28413889,31038502,29436995,22271047,28845449,40758722,27043143,29739319,21901894,27784619,23469172,31392417,46503896,33823646,44184916,33370856,32390360,36830567,39578395,30821119,26030595,34558089,28005933,28639305,26370593,22737038,18084890,23302779,30111893,24036896,22543682,26053405,16584566,23919606,16205303,20423983,17764145,22144127,22701350,24560905,24812741,19158892,31099228,45982386,32496707,21628159,17381313,18924862,18634522,27097374,23284450,18791960,22773316,18140548,25927042,20966092,21641190,20209571,16370970,21297090,15487127,13953338,15105727,14604944,25336556,32813290,16006596,30394637,29656411,33615765,21620253,17002647,12919637,15623049,14715349,13432305,9800558,17681686,16731467,23103303,23721279,20349375,14313486,14841865,20264859,13083071,12645562,13214292,13833763,18604220,20855436,13204335,12796739,15271045,20039825,18793036,14077731,15184170,22952482,18524881],[1600041600,1600128000,1600214400,1600300800,1600387200,1600646400,1600732800,1600819200,1600905600,1600992000,1601251200,1601337600,1601424000,1601510400,1601596800,1601856000,1601942400,1602028800,1602115200,1602201600,1602460800,1602547200,1602633600,1602720000,1602806400,1603065600,1603152000,1603238400,1603324800,1603411200,1603670400,1603756800,1603843200,1603929600,1604016000,1604275200,1604361600,1604448000,1604534400,1604620800,1604880000,1604966400,1605052800,1605139200,1605225600,1605484800,1605571200,1605657600,1605744000,1605830400,1606089600,1606176000,1606262400,1606435200,1606694400,1606780800,1606867200,1606953600,1607040000,1607299200,1607385600,1607472000,1607558400,1607644800,1607904000,1607990400,1608076800,1608163200,1608249600,1608508800,1608595200,1608681600,1608768000,1609113600,1609200000,1609286400,1609372800,1609718400,1609804800,1609891200,1609977600,1610064000,1610323200,1610409600,1610496000,1610582400,1610668800,1611014400,1611100800,1611187200,1611273600,1611532800,1611619200,1611705600,1611792000,1611878400,1612137600,1612224000,1612310400,1612396800,1612483200,1612742400,1612828800,1612915200,1613001600,1613088000,1613433600,1613520000,1613606400,1613692800,1613952000,1614038400,1614124800,1614211200,1614297600,1614556800,1614643200,1614729600,1614816000,1614902400,1615161600,1615248000,1615334400,1615420800,1615507200,1615766400,1615852800,1615939200,1616025600,1616112000,1616371200,1616457600,1616544000,1616630400,1616716800,1616976000,1617062400,1617148800,1617235200,1617580800,1617667200,1617753600,1617840000,1617926400,1618185600,1618272000,1618358400,1618444800,1618531200,1618790400,1618876800,1618963200,1619049600,1619136000,1619395200,1619481600,1619568000,1619654400,1619740800,1620000000,1620086400,1620172800,1620259200,1620345600,1620604800,1620691200,1620777600,1620864000,1620950400,1621209600,1621296000,1621382400,1621468800,1621555200,1621814400,1621900800,1621987200,1622073600,1622160000,1622505600,1622592000,1622678400,1622764800,1623024000,1623110400,1623196800,1623283200,1623369600,1623628800,1623715200,1623801600,1623888000,1623974400,1624233600,1624320000,1624406400,1624492800,1624579200,1624838400,1624924800,1625011200,1625097600,1625184000,1625529600,1625616000,1625702400,1625788800,1626048000,1626134400,1626220800,1626307200,1626393600,1626652800,1626739200,1626825600,1626912000,1626998400,1627257600,1627344000,1627430400,1627516800,1627603200,1627862400,1627948800,1628035200,1628121600,1628208000,1628467200,1628553600,1628640000,1628726400,1628812800,1629072000,1629158400,1629244800,1629331200,1629417600,1629676800,1629763200,1629849600,1629936000,1630022400,1630281600,1630368000,1630454400,1630540800,1630627200,1630972800,1631059200,1631145600,1631232000,1631491200,1631577600]], 'TSLA')
        </script>
    </head>
    <body>
        <div id = "create-chart" style = "max-width: 420px"></div>
        
    </body>
</html>
